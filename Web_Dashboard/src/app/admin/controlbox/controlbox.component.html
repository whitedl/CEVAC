<mat-expansion-panel expanded="true">
  <mat-expansion-panel-header>
    <h2>Building Metrics</h2>
  </mat-expansion-panel-header>
  <mat-radio-group
    class="flex-col"
    name="dataSet"
    [(ngModel)]="dataSet"
    (change)="(update)"
    aria-labelledby="control-label"
  >
    <ng-container *ngFor="let cat of categories; last as last">
      <h3>{{ cat }}</h3>
      <ng-container *ngFor="let measure of dataSets">
        <mat-radio-button
          *ngIf="measure.display && measure.category === cat"
          [value]="measure"
          [disabled]="!measure.active"
        >
          {{ measure.name }}
        </mat-radio-button>
      </ng-container>
      <mat-divider [inset]="false" *ngIf="!last"></mat-divider>
    </ng-container>
  </mat-radio-group>
</mat-expansion-panel>
